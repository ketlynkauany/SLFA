<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Novo Filme</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-900 text-white min-h-screen flex items-center justify-center">

  <form action="/filmes/add" method="POST"
    class="bg-slate-800 p-6 rounded-2xl w-96 space-y-4 shadow-lg">

    <h1 class="text-2xl font-bold text-center mb-2">
      Cadastrar Filme
    </h1>

    <!-- Título -->
    <input
      type="text"
      name="titulo"
      placeholder="Título"
      required
      class="w-full p-2 rounded bg-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
    />

    <!-- Ano -->
    <input
      type="number"
      name="ano"
      placeholder="Ano"
      required
      class="w-full p-2 rounded bg-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
    />

    <!-- Categoria -->
    <select name="id_categoria" required
      class="w-full p-2 rounded bg-slate-700">
      <option value="">Selecione a categoria</option>
      <% categorias.forEach(cat => { %>
        <option value="<%= cat.id_categoria %>">
          <%= cat.nome_categoria %>
        </option>
      <% }) %>
    </select>

    <!-- ⭐ Avaliação por estrelas -->
    <div>
      <label class="block mb-1 font-semibold">Avaliação</label>
      <div class="flex gap-2 text-2xl">
        <% for(let i=1;i<=5;i++){ %>
          <label>
            <input type="radio" name="rating" value="<%= i %>" class="hidden peer">
            <span class="cursor-pointer text-gray-500 peer-checked:text-yellow-400">
              ★
            </span>
          </label>
        <% } %>
      </div>
    </div>

    <!-- Comentário -->
    <textarea
      name="comentario"
      placeholder="Deixe um comentário..."
      rows="3"
      class="w-full p-2 rounded bg-slate-700 resize-none"
    ></textarea>

    <!-- Botão -->
    <button
      class="w-full bg-blue-600 hover:bg-blue-700 p-2 rounded font-bold transition">
      Salvar
    </button>

  </form>

</body>
</html>
